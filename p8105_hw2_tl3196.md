p8105_hw2_tl3196
================
Tianshu Liu
2022-09-28

## Problem 1

``` r
library(tidyverse)
sub_stat_df = 
  read_csv('data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv') %>%
  janitor::clean_names() %>%
  mutate(
    entry = recode(entry, 'YES' = TRUE, 'NO' = FALSE)
  ) %>%
  select(line:entry, vending, ada)

sub_stat_df
```

    ## # A tibble: 1,868 × 19
    ##    line     station_…¹ stati…² stati…³ route1 route2 route3 route4 route5 route6
    ##    <chr>    <chr>        <dbl>   <dbl> <chr>  <chr>  <chr>  <chr>  <chr>  <chr> 
    ##  1 4 Avenue 25th St       40.7   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  2 4 Avenue 25th St       40.7   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  3 4 Avenue 36th St       40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>  
    ##  4 4 Avenue 36th St       40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>  
    ##  5 4 Avenue 36th St       40.7   -74.0 N      R      <NA>   <NA>   <NA>   <NA>  
    ##  6 4 Avenue 45th St       40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  7 4 Avenue 45th St       40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  8 4 Avenue 45th St       40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ##  9 4 Avenue 45th St       40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ## 10 4 Avenue 53rd St       40.6   -74.0 R      <NA>   <NA>   <NA>   <NA>   <NA>  
    ## # … with 1,858 more rows, 9 more variables: route7 <chr>, route8 <dbl>,
    ## #   route9 <dbl>, route10 <dbl>, route11 <dbl>, entrance_type <chr>,
    ## #   entry <lgl>, vending <chr>, ada <lgl>, and abbreviated variable names
    ## #   ¹​station_name, ²​station_latitude, ³​station_longitude

There are `1868` × `19` data in the dataset.

The variables contains
`line, station_name, station_latitude, station_longitude, route1, route2, route3, route4, route5, route6, route7, route8, route9, route10, route11, entrance_type, entry, vending, ada`.

This dataset is not tidy.

There are `465` subway stations in NY, `84` of which are ADA compliant.

`9.7965739` % of the station entrances / exits don’t allow vending.

## Problem 2

``` r
library(readxl)
mr_trash_whl = read_excel(
  "./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = 1,
  range = cell_cols("A:N"),
  skip = 1,
  na = ""
  ) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(
    sports_balls = as.integer(sports_balls)
  )

prof_trash_whl = read_excel(
  "./data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx",
  sheet = 2,
  range = cell_cols("A:N"),
  skip = 1,
  na = ""
  ) %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(
    sports_balls = as.integer(sports_balls)
  )
```

``` r
trash_whl = rbind(
  mr_trash_whl %>% 
    mutate(
      trash_wheel = "mr_trash_wheel"
    ), 
  prof_trash_whl %>% 
    mutate(
      trash_wheel = "prof_trash_wheel"
    )
  ) %>%
  relocate(trash_wheel)

trash_whl
```

    ## # A tibble: 524 × 15
    ##    trash_wheel   dumps…¹ month  year date                weigh…² volum…³ plast…⁴
    ##    <chr>         <chr>   <chr> <dbl> <dttm>                <dbl>   <dbl>   <dbl>
    ##  1 mr_trash_whe… 1       May    2014 2014-05-16 00:00:00    4.31      18    1450
    ##  2 mr_trash_whe… 2       May    2014 2014-05-16 00:00:00    2.74      13    1120
    ##  3 mr_trash_whe… 3       May    2014 2014-05-16 00:00:00    3.45      15    2450
    ##  4 mr_trash_whe… 4       May    2014 2014-05-17 00:00:00    3.1       15    2380
    ##  5 mr_trash_whe… 5       May    2014 2014-05-17 00:00:00    4.06      18     980
    ##  6 mr_trash_whe… 6       May    2014 2014-05-20 00:00:00    2.71      13    1430
    ##  7 mr_trash_whe… 7       May    2014 2014-05-21 00:00:00    1.91       8     910
    ##  8 mr_trash_whe… 8       May    2014 2014-05-28 00:00:00    3.7       16    3580
    ##  9 mr_trash_whe… 9       June   2014 2014-06-05 00:00:00    2.52      14    2400
    ## 10 mr_trash_whe… 10      June   2014 2014-06-11 00:00:00    3.76      18    1340
    ## # … with 514 more rows, 7 more variables: polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, grocery_bags <dbl>,
    ## #   chip_bags <dbl>, sports_balls <int>, homes_powered <dbl>, and abbreviated
    ## #   variable names ¹​dumpster, ²​weight_tons, ³​volume_cubic_yards,
    ## #   ⁴​plastic_bottles

The combined dataset is `524`×`15`.
